knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(tidyverse)
raw_daily <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-23-2020.csv")
View(raw_daily)
edwr::read_data2
data_dir <- "csse_covid_19_data/csse_covid_19_daily_reports"
f <- list.files(data_dir, pattern = "csv", full.names = TRUE)
raw_daily <- map_df(f, read_csv)
raw_daily <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/01-22-2020.csv")
day1 <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/01-22-2020.csv")
curr <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-23-2020.csv")
View(curr)
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(tidyverse)
data_dir <- "csse_covid_19_data/csse_covid_19_daily_reports"
f <- list.files(data_dir, pattern = "csv", full.names = TRUE)
# raw_daily <- map_df(f, read_csv)
day1 <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/01-22-2020.csv")
curr <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-23-2020.csv")
curr <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-23-2020.csv", n_max = 1)
x <- map(f, read_csv)
View(x)
yest <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-22-2020.csv")
curr <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-23-2020.csv")
View(curr)
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv")
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
pivot_longer(cols = `1/22/20`:, names_to = "date")
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
pivot_longer(cols = c(-`Province/State`, -`Country/Region`, -Lat, -Long), names_to = "date")
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
pivot_longer(cols = c(-`Province/State`, -`Country/Region`, -Lat, -Long), names_to = "date", values_to = "confirmed")
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -, -lat, -long),
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
)
View(df_confirm)
library(lubridate)
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
) %>%
mutate_at("date", as_date)
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y")
?as_date
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
)
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
View(df_confirm)
df_deaths <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "deaths"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
View(df_deaths)
df_deaths <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
)
View(df_deaths)
df_deaths <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv")
df_deaths <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "deaths"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
View(df_deaths)
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv")
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_recover <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv")
View(df_recover)
df_deaths <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv")
df_recover <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "recover"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_deaths <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "deaths"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
View(df_recover)
df_confirm_old <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirm"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_deaths_old <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "death"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_old <- df_confirm_old %>%
left_join(df_deaths_old)
df_old <- df_confirm_old %>%
left_join(df_deaths_old) %>%
left_join(df_recover)
View(df_old)
df_ts <- left_join(df_confirm, df_deaths)
View(df_ts)
df_x <- anti_join(df_old, df_ts)
View(df_x)
df_ts_old <- df_confirm_old %>%
left_join(df_deaths_old) %>%
left_join(df_recover)
View(yest)
df_ts_sum <- df_ts %>%
group_by(date) %>%
summarize_at(c("confirm", "deaths"), sum, na.rm = TRUE)
df_ts_sum <- df_ts %>%
group_by(date) %>%
summarize_at(c("confirmed", "deaths"), sum, na.rm = TRUE)
View(df_ts_sum)
df_confirm_old <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_deaths_old <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "death"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_ts_old <- df_confirm_old %>%
left_join(df_deaths_old) %>%
left_join(df_recover)
df_recover <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "recovered"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_confirm_old <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_deaths_old <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "death"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_ts_old <- df_confirm_old %>%
left_join(df_deaths_old) %>%
left_join(df_recover)
df_ts_old_sum <- df_ts_old %>%
group_by(date) %>%
summarize_at(c("confirmed", "deaths", "recovered"), sum, na.rm = TRUE)
df_deaths_old <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "deaths"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_ts_old <- df_confirm_old %>%
left_join(df_deaths_old) %>%
left_join(df_recover)
df_ts_old_sum <- df_ts_old %>%
group_by(date) %>%
summarize_at(c("confirmed", "deaths", "recovered"), sum, na.rm = TRUE)
View(df_ts_old_sum)
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
library(tidyverse)
library(lubridate)
data_dir <- "csse_covid_19_data/csse_covid_19_daily_reports"
# f <- list.files(data_dir, pattern = "csv", full.names = TRUE)
# x <- map(f, read_csv)
# raw_daily <- map_df(f, read_csv)
# day1 <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/01-22-2020.csv")
# yest <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-22-2020.csv")
curr <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-23-2020.csv")
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_deaths <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "deaths"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_ts <- left_join(df_confirm, df_deaths)
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
data_dir <- "csse_covid_19_data/csse_covid_19_daily_reports"
# f <- list.files(data_dir, pattern = "csv", full.names = TRUE)
# x <- map(f, read_csv)
# raw_daily <- map_df(f, read_csv)
# day1 <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/01-22-2020.csv")
# yest <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-22-2020.csv")
curr <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-24-2020.csv")
library(tidyverse)
library(lubridate)
data_dir <- "csse_covid_19_data/csse_covid_19_daily_reports"
# f <- list.files(data_dir, pattern = "csv", full.names = TRUE)
# x <- map(f, read_csv)
# raw_daily <- map_df(f, read_csv)
# day1 <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/01-22-2020.csv")
# yest <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-22-2020.csv")
curr <- read_csv("csse_covid_19_data/csse_covid_19_daily_reports/03-24-2020.csv")
df_confirm <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "confirmed"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_deaths <- read_csv("csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv") %>%
rename(
state = `Province/State`,
country = `Country/Region`,
lat = Lat,
long = Long
) %>%
pivot_longer(
cols = c(-state, -country, -lat, -long),
names_to = "date",
values_to = "deaths"
) %>%
mutate_at("date", as_date, format = "%m/%d/%y", tz = "UTC")
df_ts <- left_join(df_confirm, df_deaths)
View(df_ts)
View(df_ts)
